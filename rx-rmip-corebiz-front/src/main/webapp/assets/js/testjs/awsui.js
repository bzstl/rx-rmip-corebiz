/*!
 * =====================================================
 * AWSUI组件库运行时公共组件代码文件，引入JS文件，Ajax请求封装代码等
 * v1.0 (http://www.actionsoft.com.cn)
 * 发布后文件名：awsui.js
 * =====================================================
 */
__jsPath=function(h){var a=document.getElementsByTagName("script");var g="";for(var f=0,b=a.length;f<b;f++){var j=a[f].src;if(j.indexOf(h)!=-1){var d=j.split(h);g=d[0];break}}var c=location.href;c=c.split("#")[0];c=c.split("?")[0];var d=c.split("/");d.length=d.length-1;c=d.join("/");if(g.indexOf("https:")==-1&&g.indexOf("http:")==-1&&g.indexOf("file:")==-1&&g.indexOf("/")!=0){g=c+"/"+g}return g};awsui={};var bootPATH=__jsPath("awsui.js");var jss=[];var isShow=true;try{if(window.isMobile==true){isShow=false}}catch(e){}if(isShow){jss=["./aws.pc.all.js"]}else{jss=["./aws.mobile.all.js"]}for(var i=0;i<jss.length;i++){loadjs(jss[i])}function loadjs(b){var a=bootPATH+b;document.write('<script src="'+a+'" type="text/javascript"><\/script>')}function loadCss(a){document.write("<link rel='stylesheet' href='"+bootPATH+a+"'></link>")}awsui.parse=function(a){initDatepicker();$(".awsui-buttongroup").on("click",function(b){$(b.target).closest("a").siblings().removeClass("current");$(b.target).closest("a").addClass("current")})};function initAWSUITab(a){var b=function(d){var f=$("#"+d);var c=$("#"+f.attr("contentid"));if($(f).hasClass("awsui-simple-tab")&&c.hasClass("aws-simple-tab-content")==false){c.addClass("aws-simple-tab-content")}c.children("div[tit]").each(function(g,j){$(j).css({display:""});if(g==0){$(j).addClass("show");$(j).width(c.width()-40)}else{var h=$(j).find("#iweboffice").length>0;if($(j).hasClass("hide")){$(j).removeClass("hide")}$(j).addClass(h?"hidden":"hide")}})};if(a){b(a)}else{$(".awsui-simple-tab, .aws-form-ux-tab").each(function(c,d){b($(d).attr("contentid"))})}}function initAWSUITabEvent(){$(".awsui-simple-tab, .aws-form-ux-tab").find("a[tit]").off("click").on("click",function(){var tab=$(this).parent();var contentId=tab.attr("contentid");if(contentId==undefined){contentId="content"}var currentActiveTab=tab.find(".active");var currentTabId=currentActiveTab.attr("tit");var newTabId=$(this).attr("tit");var onBeforeChangeEvent=eval($(this).parent().attr("onbeforechange"));var onChangeEvent=eval($(this).parent().attr("onchange"));var beforeChangeRet=true;if(typeof(onBeforeChangeEvent)=="function"){beforeChangeRet=onBeforeChangeEvent(tab,currentTabId,newTabId);if(beforeChangeRet==undefined){beforeChangeRet=true}}if(!beforeChangeRet){return false}else{$(this).siblings().removeClass("active");$(this).addClass("active");var tit=$(this).attr("tit");var divContent=$("#"+contentId);var currentItem=divContent.children("div[tit='"+tit+"']");var hasGoldGrid=false;divContent.children("div[tit]").each(function(i,item){var divItem=$(item);hasGoldGrid=divItem.find("#iweboffice").length>0;var cls=hasGoldGrid?"hidden":"hide";divItem.removeClass("show").addClass(cls)});hasGoldGrid=currentItem.find("#iweboffice").length>0;currentItem.removeClass(hasGoldGrid?"hidden":"hide").addClass("show");if(typeof(onChangeEvent)=="function"){onChangeEvent(tab,newTabId)}try{setCookie($(tab).attr("id"),newTabId)}catch(e){}}})}function initAWSUITabCookie(){$(".awsui-simple-tab, .aws-form-ux-tab").each(function(c,d){try{var a=$(d).attr("id");var b=$(d).attr("cookie");var g=getCookie(a);if(g&&g.length>0&&(b==undefined||b==="true")){$(d).find("a[tit='"+g+"']").trigger("click")}}catch(f){}})}$(function(){$(document).off("keydown").on("keydown",function(b){if(b.keyCode===8){var f=false;var c=b.srcElement||b.target;if((c.tagName.toUpperCase()==="INPUT"&&(c.type.toUpperCase()==="TEXT"||c.type.toUpperCase()==="PASSWORD"||c.type.toUpperCase()==="FILE"||c.type.toUpperCase()==="SEARCH"||c.type.toUpperCase()==="NUMBER"))||c.tagName.toUpperCase()==="TEXTAREA"){f=c.readOnly||c.disabled}else{if(c.tagName.toUpperCase()==="DIV"&&c.getAttribute("contenteditable")==="true"){f=false}else{f=true}}if(f){b.preventDefault()}}});$("form[preventSubmit!=false]").off("keydown").on("keydown",function(b){if(b.keyCode===13){var f=false;var c=b.srcElement||b.target;if(c.tagName.toUpperCase()==="TEXTAREA"){f=false}else{if(c.tagName.toUpperCase()==="DIV"&&c.getAttribute("contenteditable")==="true"){f=false}else{f=true}}if(f){b.preventDefault()}}});$(document).quicktip();$(".awsui-checkbox,.awsui-radio").check();$(".awsui-select").customSelect();if(isShow){var a=function(){$(".awsui-toolbar.fixed").each(function(b){var c=$(this).outerHeight();$(this).after("<div></div>").next().css("padding",c+"px 0 0 0")})};a()}initAWSUITab();initAWSUITabEvent();initAWSUITabCookie()});var TableGroup={callbackArray:{},render:function(k){var a=$(".awsui-table-group#"+k.tableId);var g=a.children("tr");for(var c=0;c<g.length;c++){var h=g[c];var j,f;var b=$(h).children();var d=b.eq(k.groupRowIndex).html();if(c>0){var j=g[c-1];f=$(j).children().eq(k.groupRowIndex).html()}if(d!=f){$(h).before('<tr class="awsui-table-group-head awsui-table-group-collapsed"><td colspan="'+b.length+'"><span class="icon icon-group-close"></span><span>'+k.groupRowName+d+"</span></td></tr>")}}this.bindEvent(k.tableId)},bindEvent:function(tableId){var init=function(head,collapsed){for(var i=0;i<head.length;i++){$(head[i]).nextAll().each(function(i,v){var obj=$(v);if(v.className.indexOf("awsui-table-group-head")<0){if(collapsed){obj.show()}else{obj.hide()}}else{return false}})}};init($(".awsui-table-group-head.awsui-table-group-collapsed"),false);$(".awsui-table-group-head").on("click",function(){var head=$(this);var collapsed=this.className.indexOf("awsui-table-group-collapsed")>-1;if(collapsed){head.removeClass("awsui-table-group-collapsed");head.find(".icon.icon-group-close").removeClass("icon-group-close").addClass("icon-group-open")}else{head.addClass("awsui-table-group-collapsed");head.find(".icon.icon-group-open").removeClass("icon-group-open").addClass("icon-group-close")}init(head,collapsed);var tableId=$($($(this).parent()).parent()).attr("id");var callback=TableGroup.callbackArray[tableId];eval("("+callback+")");if(callback){callback()}})}};var readerTableGroup=function(b,a){var c=$(".awsui-table-group tbody");var j=c.find("tr");for(var f=0;f<j.length;f++){var k=j[f];var l,h;var d=$(k).children();var g=d.eq(b).html();if(f>0){var l=j[f-1];h=$(l).children().eq(b).html()}if(g!=h){$(k).before('<tr class="awsui-table-group-head awsui-table-group-collapsed"><td colspan="'+d.length+'"><span class="icon icon-group-close"></span><span>'+a+g+"</span></td></tr>")}}loadGroupClick()};var loadGroupClick=function(c){var a=c;var b=function(f,g){for(var d=0;d<f.length;d++){$(f[d]).nextAll().each(function(j,h){var k=$(h);if(h.className.indexOf("awsui-table-group-head")<0){if(g){k.show()}else{k.hide()}}else{return false}})}};b($(".awsui-table-group-head.awsui-table-group-collapsed"),false);$(".awsui-table-group-head").on("click",function(){var d=$(this);var f=this.className.indexOf("awsui-table-group-collapsed")>-1;if(f){d.removeClass("awsui-table-group-collapsed");d.find(".icon.icon-group-close").removeClass("icon-group-close").addClass("icon-group-open")}else{d.addClass("awsui-table-group-collapsed");d.find(".icon.icon-group-open").removeClass("icon-group-open").addClass("icon-group-close")}b(d,f);if(c){c()}})};awsui.testDemo=function(a){return a.parents().hasClass("brush:js")};awsui.MessageBox={confirm:function(g,d,b,c,f){var a={title:g,content:d,onConfirm:b,onCancel:c,onClose:f};$.confirm(a)},alert:function(c,b){var a={title:c,content:b,type:"alert"};$.confirm(a)},prompt:function(g,d,b,c,f){var a={title:g,content:d+"</br><input id='awsui_prompt_input' class='txt' style='width:100%' value=''/>",onConfirm:function(){return b($("#awsui_prompt_input").val())},onCancel:c,onClose:f};$.confirm(a)}};awsui.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty;var pad=function(n){return n<10?"0"+n:n};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+s+'"'};var encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":awsui.JSON.encode(v));b=true}}a.push("]");return a.join("")};var isArray=function(v){return v&&typeof v.pop=="function"};var isDate=function(v){return v&&typeof v.getFullYear=="function"};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(o){if(typeof o=="undefined"||o===null){return"null"}else{if(isArray(o)){return encodeArray(o)}else{if(isDate(o)){return awsui.JSON.encodeDate(o)}else{if(typeof o=="string"){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(typeof o=="boolean"){return String(o)}else{var a=["{"],b,i,v;for(i in o){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(this.encode(i),":",v===null?"null":this.encode(v));b=true}}}a.push("}");return a.join("")}}}}}}};this.decode=function(json){return eval("("+json+")")}})();awsui.encode=awsui.JSON.encode;awsui.decode=awsui.JSON.decode;var ua=navigator.userAgent.toLowerCase();$.browser={isStrict:document.compatMode=="CSS1Compat",isOpera:ua.indexOf("opera")>-1,isSafari:(/webkit|khtml/).test(ua),isSafari3:this.isSafari&&ua.indexOf("webkit/5")!=-1,isIE:"ActiveXObject" in window,isIE6:!this.isOpera&&ua.indexOf("msie 6")>-1,isIE7:!this.isOpera&&ua.indexOf("msie 7")>-1,isIE8:!this.isOpera&&ua.indexOf("msie 8")>-1,isIE9:!this.isOpera&&ua.indexOf("msie 9")>-1,isIE10:!this.isOpera&&ua.indexOf("msie 10")>-1,isIE11:(/trident\/7\./).test(ua),isGecko:!this.isSafari&&ua.indexOf("gecko")>-1,isFirefox:!this.isSafari&&ua.indexOf("gecko")>-1&&ua.indexOf("firefox")>-1,isChrome:ua.indexOf("chrome")!==-1,isBorderBox:this.isIE&&!this.isStrict,isWindows:ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1,isMac:ua.indexOf("macintosh")!=-1||ua.indexOf("mac os x")!=-1,isAir:ua.indexOf("adobeair")!=-1,isLinux:ua.indexOf("linux")!=-1,isSecure:window.location.href.toLowerCase().indexOf("https")===0,isIPhone:ua.match(/(iphone\sos)\s([\d_]+)/)!=null||ua.match(/(ipad).*os\s([\d_]+)/)!=null,isIPad:ua.match(/(ipad).*os\s([\d_]+)/)!=null,isMobile:!!ua.match(/(iphone|ipod|android|ios)/i)};awsui.ajax={ajaxErr:function(c,a,b){var f=null;if(c.status===0){}else{if(c.status==404){f="Requested page not found. [404]"}else{if(c.status==500){f="Internal Server Error [500]."}else{if(a==="parsererror"){f="Requested JSON parse failed."}else{if(a==="timeout"){f="Time out error."}else{if(a==="abort"){f="Ajax request aborted."}else{f="Uncaught Error.\n"+c.responseText}}}}}}if(f!=null){try{console.log("awsui.ajax.ajaxErr:"+请求出错,c);console.log("awsui.ajax.ajaxErr:"+请求出错,f)}catch(d){}}if(b){try{console.log("awsui.ajax.ajaxErr:settings--",b)}catch(d){}}},request:function(){var b=null;var a=null;if(arguments.length==1){b=arguments[0];a=arguments[0].url}else{if(arguments.length==2){b=arguments[1];a=arguments[0]}else{throw 参数不正确要求+"：url [, settings ] 或 [settings ] "}}if(a==null||a==""){b.url="./jd"}var g=b&&(b.loading===true||b.loadingText!=null);var c=b.error;var f=b.success;b.error=function(j,l,k){if(g){var h=b.axis==null?window:b.axis;h.$.simpleAlert("close")}if(c!=null){c(j,l,k)}else{awsui.ajax.ajaxErr(j,k,b)}};b.success=function(k,l,j){if(g){var h=b.axis==null?window:b.axis;h.$.simpleAlert("close")}if(awsui.ajax.responseObject(k)){if(k.errorCode=="401"&&k.data!=null&&k.data.desc.indexOf(用户会话已超时)!=-1&&$.browser.isMobile){top.location="mobileportal://sessiontimeout";return}if(b.ok==null&&b.err==null){b.ok=f;b.err=f}awsui.ajax.result(k,b)}else{if(f!=null){f(k,l,j)}}};if(g){var d=b.beforeSend;b.beforeSend=function(k,l){var h=b.loadingText==null?正在提交请求请稍候:b.loadingText;var j=b.axis==null?window:b.axis;j.$.simpleAlert(h,"loading","no");if(d!=null){d(k,l)}}}jQuery.ajax.apply(this,arguments)},load:function(){jQuery.fn.load.apply(arguments[0],Array.prototype.slice.call(arguments,1))},post:function(){jQuery.post.apply(this,arguments)},get:function(){jQuery.get.apply(this,arguments)},ok:function(a){return awsui.ajax.responseObject(a)&&a.result=="ok"},responseObject:function(a){return jQuery.type(a)=="object"&&a.id==":RO;"},alert:function(c,a,f){if(awsui.ajax.responseObject(c)){if(!awsui.ajax.ok(c)){var d=c.data!=null&&c.data.desc!=null?c.data.desc:c.msg;var b=f==null?null:function(){f()};$.simpleAlert(d!=null&&d!=""?d:未正确返回的服务端异常,c.result,{model:a,callback:b})}else{if(c.msg!=null&&c.msg!=""){$.simpleAlert(c.msg,c.result,800,{model:a,callback:f})}}}},result:function(d,c){if(!awsui.ajax.ok(d)){var f=d.data!=null&&d.data.desc!=null?d.data.desc:d.msg;var b=c.err==null?null:function(){c.err(d,c)};if(c.alert!==false){$.simpleAlert(f!=null&&f!=""?f:未正确返回的服务端异常,d.result,{model:c.modal,callback:b})}else{b(d)}}else{if(d.msg!=null&&d.msg!=""&&c.alert!==false){var a=c.ok==null?null:function(){c.ok(d)};if(c.alert!==false){$.simpleAlert(d.msg,d.result,800,{model:c.modal,callback:a})}else{a(d)}}else{if(c.ok!=null){c.ok(d)}}}}};awsui.ajax.r=awsui.ajax.request;validator={isPositiveInteger:function(f,d){var c=$.type(f)==="string"?f:f.val();var b=/^([1-9]\d*)$/;var a=b.test(c);if(!a){if(d!=null){$.simpleAlert("["+d+"]"+输入值不正确,"warning",1500,{model:true,callback:function(){if($.type(f)==="string"){return}f.each(function(g){this.focus()})}})}}return a},less:function(a,b){return parseInt(a)<b},great:function(a,b){return parseInt(a)>b},isInteger:function(b){var a=/^[-]{0,1}[1-9]\d*$/;return a.test(b)}};